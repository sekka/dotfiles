# main viewの左端にコミットIDを表示する
set main-view = line-number:true,interval=10 date id author commit-title:graph=yes,refs=yes
# デフォルト
# set main-view = date author commit-title:graph=yes,refs=yes

# 画面を垂直方向に分割する（左右分割）
set vertical-split = yes

# 垂直分割時の右側ビュー（diff表示領域）の幅を60%に設定
# デフォルトは50%だが、diffを見やすくするため右側を広めに確保
set split-view-width = 60%

# 水平分割したウィンドウの下画面サイズを % で指定（行数指定も可）
# set split-view-height = 80%

# 差分の前後の表示行数（diff-context)を指定
set diff-context = 6

# ========================================
# git-delta統合
# ========================================
# Ctrl+d: deltaによる通常のdiff表示
# Ctrl+s: deltaによるside-by-side diff表示
# 参考: https://gist.github.com/kmatt/4ee3c24ab077ae556fb15563fd08469b
#
# 注: D/Sキーはデフォルト機能に割り当て済みのため、Ctrl+キーを使用
#   D: 日付表示の切り替え
#   S: statusビューを表示

# diffビューでdeltaを使用
bind diff <Ctrl-d> !git show %(commit) | delta --paging always --dark
bind diff <Ctrl-s> !git show %(commit) | delta --paging always --dark --side-by-side

# stageビューでdeltaを使用
bind stage <Ctrl-d> !git diff %(file) | delta --paging always --dark
bind stage <Ctrl-s> !git diff %(file) | delta --paging always --dark --side-by-side

# statusビューでdeltaを使用
bind status <Ctrl-d> !git diff %(file) | delta --paging always --dark
bind status <Ctrl-s> !git diff %(file) | delta --paging always --dark --side-by-side
