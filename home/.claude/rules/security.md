# セキュリティ原則

## 機密情報の定義

以下を**機密情報**として扱い、外部ツールに送信禁止：

- 環境変数（`.env`ファイル、`process.env`の値）
- 認証情報（APIキー、トークン、パスワード、JWT秘密鍵）
- 個人情報・顧客データ（PII）
- システム情報（社内URL、IPアドレス、DB接続文字列）
- プロプライエタリな情報（社内ライブラリ、ビジネスロジック）

## 外部ツール使用時の注意

### Context7 / DeepWiki

- 公開OSSライブラリのみ問い合わせ対象
- 社内ライブラリ名は一般化する（例: `@company/auth` → "カスタム認証ライブラリ"）

### WebFetch

- 認証が必要なサイトは使用不可（Google Docs、Confluence、Jira、GitHubプライベートリポジトリ）
- URLに機密情報（トークン、セッションID）が含まれていないか確認

## 送信前チェックリスト

外部ツール使用前に確認：

- [ ] APIキー・トークンが含まれていない
- [ ] 顧客データが含まれていない
- [ ] 社内システムのURLが含まれていない
- [ ] プロプライエタリなコードが含まれていない
- [ ] 環境変数の値が含まれていない

## Hooks による保護

Hooksで機密ファイルへのアクセスを制限済み：

- `protect-files.sh`: `.env*`, `*.key`, `secrets/*` へのアクセスをブロック
- `validate-command.ts`: 危険なコマンドを検出
