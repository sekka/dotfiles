# ワークフロールール

## ツール選択の優先順位

標準UNIXコマンドには高機能な代替ツールを優先的に使用する:

- **ファイル操作**: `bat` (cat), `eza` (ls), `fd` (find)
- **テキスト検索**: `ripgrep` / `rg` (grep), `ag`, `pt`
- **ログ表示**: `tspin` (tail) - 構文ハイライト付き高速ログビューアー
- **プロセス監視**: `procs` (ps), `btop` (top)
- **バイナリ**: `hexyl` (od), `hx` (hex viewer)
- **HTTP**: `xh` (curl)
- **ダウンロード**: `ruget` (wget)

これらのツールは mise/cargo で管理され、すでに利用可能。

## 問題解決アプローチ

- 大きな問題を小さな段階に分割する（A→A1→A2→A3→B）
- スクラッチパッドファイル（SCRATCHPAD.md）で計画を整理してから実装

## 実装前の確認

- コード作成前に関連ファイルを必ず読む
- 複数ファイルに影響する変更は計画を立案してから実装

## レビューの深さ

- 重要でない部分は高レベルで素早く
- 本番環境コードは詳細に検査

## 視覚的確認

- UI 変更時はスクリーンショットで確認を求める
- デザイン画像や図が提供されたら積極的に参照する

## ドキュメント更新

- 機能完了時に関連ドキュメントの更新が必要か確認

## コード品質

- 生成するコードは、コメントを多めに入れて解説する
- 行の最大長は 100 文字まで

## タスク管理

- タスクの content は命令形、activeForm は現在進行形で記述
- 単純で 1 ステップのタスクには TodoWrite を使わない

## スラッシュコマンド

- `/commit`: 変更のコミット
- `/generate-test`: テストコード生成
- `/improve-html`: HTML/CSS 改善
- `/multi-ai-review`: 複数AIで並行コードレビュー

## コードレビュー

- ユーザーが「レビュー」を依頼した場合、複数のAIツールを並行実行する
- Bashツールで以下を同時呼び出し:
  - `codex review --uncommitted`
  - `gemini --yolo "git diffをレビューしてください"`
- 各AIの結果を統合して表示

## Serena MCP 使用時

- ファイル全体を読む前に get_symbols_overview で概要を確認
- プロンプトキャッシュを活用するため、類似リクエストをまとめる
