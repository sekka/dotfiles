# ワークフロー1: ヒアリングメモの整理・文書化

## 概要

非構造化されたヒアリングメモを、論理的で読みやすい文書に整理するワークフロー。
荒いメモや口語表現を整理し、必要な補足情報を追加して、完全なドキュメントを生成する。

---

## 入力と出力

### 入力

- **ヒアリングメモ**（非構造化テキスト）
  - 箇条書き、口語表現、断片的な情報
  - Markdown、テキストファイル、画像（手書きメモ）
- **プロジェクト種別**（任意）
  - 指定がない場合は自動判定

### 出力

1. **整理文書**（詳細版）
   - 構造化されたMarkdownドキュメント
   - テンプレートに基づく
   - 出典が明記されている
   - 補足情報が追加されている

2. **サマリー**（1ページ概要）
   - 最重要ポイントのみを抽出
   - 意思決定者向け
   - クイックリファレンス付き

---

## Phase 0: 事前準備

### ユーザーへの確認

スキル起動時、以下を確認:

```typescript
AskUserQuestion({
  questions: [
    {
      question: "プロジェクト種別を選択してください（メモ内容から自動判定も可能）",
      header: "種別",
      options: [
        {
          label: "自動判定",
          description: "メモ内容から適切な種別を自動的に判定します"
        },
        {
          label: "ブランディング",
          description: "ブランド戦略、VI、トンマナ設計など"
        },
        {
          label: "ウェブ制作",
          description: "サイト設計、UX、コンテンツ戦略など"
        },
        {
          label: "ビジネス戦略",
          description: "事業計画、市場分析、収益モデルなど"
        }
      ],
      multiSelect: false
    }
  ]
});
```

### メモの読み込み

```typescript
// ファイルパスが指定されている場合
Read({
  file_path: "[ユーザー指定のパス]"
});

// 画像の場合（手書きメモ）
Read({
  file_path: "[画像パス]"
});
```

---

## Phase 1: プロジェクト種別の特定

### 自動判定ロジック

メモ内容から以下のキーワードで判定:

| 種別 | キーワード |
|------|-----------|
| ブランディング | ブランド、トンマナ、VI、ロゴ、カラー、フォント、コンセプト |
| ウェブ制作 | サイト、Web、UI、UX、CMS、SEO、レスポンシブ、コンテンツ |
| ビジネス戦略 | 事業、売上、市場、収益、戦略、KPI、ビジネスモデル |

**判定不可の場合**:
- ユーザーに再度AskUserQuestionで確認
- または「その他」として汎用テンプレートを使用

### プロジェクト種別ごとのセクション構成

#### ブランディングプロジェクト

1. プロジェクト概要
2. クライアント情報
3. 現状分析（課題、競合、市場）
4. ブランドコンセプト
5. ターゲット
6. トンマナ・VI方針
7. タッチポイント
8. 制約条件・前提
9. 次のステップ

#### ウェブ制作プロジェクト

1. プロジェクト概要
2. クライアント情報
3. 現行サイト分析
4. 目的・KPI
5. ターゲットユーザー
6. サイト構成・機能要件
7. デザイン方針
8. 技術要件
9. 制約条件・前提
10. 次のステップ

#### ビジネス戦略プロジェクト

1. プロジェクト概要
2. クライアント情報
3. 事業概要
4. 市場環境
5. 競合分析
6. ビジネスモデル
7. 収益構造
8. 成長戦略
9. リスク・課題
10. 次のステップ

---

## Phase 2: 情報の構造化

### 2-1: メモの解析

メモを読み込み、以下を抽出:

1. **事実情報**
   - 数値、日付、固有名詞
   - 「売上5億円」「2025年創業」など

2. **定性情報**
   - 意見、感想、方針
   - 「信頼感が重要」「シンプルなデザイン希望」など

3. **課題・要望**
   - 問題点、改善希望
   - 「現サイトが古い」「若年層にリーチできていない」など

4. **制約条件**
   - 納期、予算、技術制約
   - 「3ヶ月以内」「WordPressで構築」など

### 2-2: 荒いメモの整理

**口語表現の書き言葉化**:

| メモ（口語） | 整理後（書き言葉） |
|--------------|-------------------|
| 「売上けっこう伸びてる」 | 「売上は順調に成長している」 |
| 「若い人にウケるデザインで」 | 「若年層に訴求力のあるデザインを志向」 |
| 「とりあえず3ヶ月で」 | 「納期は3ヶ月を目標」 |

**曖昧な表現の明確化**:

| メモ（曖昧） | 整理後（明確） + 注釈 |
|--------------|----------------------|
| 「売上は多分5億くらい」 | 「売上は約5億円」※ヒアリングより（要確認） |
| 「競合は強い」 | 「主要競合A社はシェア30%を占める」[^1] |

### 2-3: 論理的なセクション分け

メモの断片的な情報を、プロジェクト種別に応じたセクションに配置:

**例（ブランディングプロジェクト）**:

```
メモ:
- 30-40代女性がターゲット
- 信頼感が大事
- 競合はA社、B社
- ブランドカラーは青系希望
- ロゴはシンプルに

↓ 整理後 ↓

## ターゲット
- 年齢層: 30-40代
- 性別: 女性
※ヒアリングより

## ブランドコンセプト
「信頼感」をコアバリューとする。
※ヒアリングより

## トンマナ・VI方針
- ブランドカラー: 青系
- ロゴデザイン: シンプル・ミニマル
※ヒアリングより

## 現状分析
主要競合: A社、B社
※ヒアリングより
```

### 2-4: 重複・矛盾の解消

**重複情報の統合**:

```
メモ:
- ターゲットは30代女性
- （別の箇所）30-40代の女性層

↓ 統合 ↓

ターゲット: 30-40代女性
※ヒアリングより（複数回言及）
```

**矛盾の明記**:

```
メモ:
- 予算は500万円
- （別の箇所）600万円くらい

↓ 整理後 ↓

予算: 500-600万円
※ヒアリングより（要確認: 2つの異なる数値が言及された）
```

---

## Phase 3: 補足情報の追加

### 3-1: 補足が必要な情報の特定

以下の場合に補足調査を実施:

1. **数値データに裏付けが必要**
   - 例: 「市場は成長している」→ 市場規模の統計を調査

2. **専門用語の説明が必要**
   - 例: 「DX推進」→ 用語解説を追加

3. **競合情報が不明確**
   - 例: 「競合は強い」→ 具体的な競合の強み・シェアを調査

4. **トレンドの確認が必要**
   - 例: 「最新のデザインで」→ デザイントレンドを調査

### 3-2: 調査ツールの選択

`research-sources.md` に従って適切なツールを選択:

**例1: 市場規模の調査**

```typescript
WebSearch({
  query: "ブランディング市場 2025 規模 日本"
});
```

**例2: 技術仕様の確認**

```typescript
resolve_library_id({
  libraryName: "Next.js",
  query: "Next.js 14のベストプラクティス"
});

query_docs({
  libraryId: "/vercel/next.js",
  query: "App Routerでのデータフェッチ"
});
```

**例3: 競合情報の調査**

```typescript
WebSearch({
  query: "A社 ブランド戦略 事例"
});
```

### 3-3: 調査結果の統合

`citation-patterns.md` に従って出典を明記:

**パターン1: 本文に統合**

```markdown
## 市場環境

国内ブランディング市場は2025年に約3,000億円規模に達し、前年比8%成長を続けている[^1]。

[^1]: 日経クロストレンド「ブランディング市場調査2025」https://example.com
```

**パターン2: 補足セクション**

```markdown
## ブランドコンセプト

「信頼と革新の調和」をコアメッセージとする。
※ヒアリングより

---

📝 **補足: ブランディングのトレンド**

2026年のブランディングトレンドとして、以下が注目されている[^2]:
- パーパス・ドリブン（社会的意義の明示）
- ストーリーテリング（物語性のある伝達）

[^2]: ブランド・ジャパン2025 https://example.com
```

### 3-4: 過剰な補足を避ける

**補足が不要なケース**:

- クライアントが明確に述べている事実
- 一般常識・基礎知識
- プロジェクトに直接関係ない情報

**例（不要な補足）**:

```markdown
❌ 悪い例:
創業は2010年。
📝補足: 2010年は平成22年で、リーマンショック後の経済回復期...
（→ プロジェクトに無関係）

✅ 良い例:
創業は2010年。
※ヒアリングより
```

---

## Phase 4: 出典の明記

### 4-1: 出典の付記

`citation-patterns.md` のルールに従って出典を明記:

| 情報源 | 表記 |
|--------|------|
| ヒアリング | ※ヒアリングより |
| クライアント資料 | ※資料p.Xより |
| 外部調査 | [^XX] 脚注 + URL |
| 推定 | ※推定（根拠：〜） |
| 一般知識 | 📝補足 or 注釈なし |

### 4-2: 確度の明示

確度の低い情報には明確にマーク:

```markdown
売上は約5億円。
※ヒアリングより（要確認: 口頭での概算）
```

---

## Phase 5: 出力生成

### 5-1: 詳細版ドキュメントの生成

`templates/hearing-document.md` を使用:

```typescript
// テンプレートを読み込み
Read({
  file_path: "~/.claude/skills/organizing-hearings/templates/hearing-document.md"
});

// プロジェクト種別に応じてセクションをカスタマイズ
// 整理した情報を各セクションに配置
// 出典を付記

// 最終的にWriteで出力
Write({
  file_path: "[出力先パス]/[プロジェクト名]-hearing-document.md",
  content: "[生成されたドキュメント]"
});
```

### 5-2: サマリーの生成

`templates/summary.md` を使用:

最重要ポイントのみを抽出し、1ページに収める:

- プロジェクトの本質（1-2文）
- 最重要ポイント（3つ）
- ターゲット
- 主な課題
- プロジェクトの方向性
- 制約条件
- 次のアクション

```typescript
Write({
  file_path: "[出力先パス]/[プロジェクト名]-summary.md",
  content: "[生成されたサマリー]"
});
```

---

## Phase 6: 確認事項の整理

### 要確認リストの作成

以下の情報を「確認事項」セクションにまとめる:

1. **確度の低い情報**
   - 口頭での概算値
   - 「たぶん」「おそらく」などの表現

2. **矛盾する情報**
   - 複数の異なる数値
   - 相反する方針

3. **不足している情報**
   - ヒアリングで聞けなかった項目
   - 後日確認すべき事項

**例**:

```markdown
## 確認事項

### 要確認リスト

- [ ] 年商の正確な数値（ヒアリングでは「約5億円」と聞いたが書面確認必要）
- [ ] 主要競合のシェア（具体的な数値を確認）
- [ ] 納期の最終確定日（仮決定のため最終調整が必要）
```

---

## ユーザーへのフィードバック

ワークフロー完了後、以下を報告:

```markdown
## 📄 ヒアリング整理が完了しました

### 生成されたファイル

1. **詳細版ドキュメント**: `[パス]/[プロジェクト名]-hearing-document.md`
   - 全13セクション、約XX行
   - 出典XX件、補足調査XX件

2. **サマリー**: `[パス]/[プロジェクト名]-summary.md`
   - 1ページ概要、意思決定者向け

### 要確認事項（重要）

以下の項目は後日確認が必要です:
- [ ] [要確認項目1]
- [ ] [要確認項目2]

### 補足調査の実施状況

- WebSearch: XX回（市場規模、競合情報など）
- Context7: XX回（技術仕様）
- 追加された補足情報: XXセクション

### 次のステップ

1. 詳細版ドキュメントの確認
2. 要確認事項の社内確認
3. サマリーを意思決定者と共有
```

---

## エラーハンドリング

### メモが不明瞭な場合

```typescript
AskUserQuestion({
  questions: [
    {
      question: "メモに「XX」とありますが、これは何を指していますか？",
      header: "確認",
      options: [
        { label: "A", description: "..." },
        { label: "B", description: "..." }
      ],
      multiSelect: false
    }
  ]
});
```

### プロジェクト種別が判定できない場合

```typescript
AskUserQuestion({
  questions: [
    {
      question: "メモ内容から種別を判定できませんでした。プロジェクト種別を選択してください",
      header: "種別",
      options: [
        { label: "ブランディング", description: "..." },
        { label: "ウェブ制作", description: "..." },
        { label: "ビジネス戦略", description: "..." },
        { label: "その他", description: "汎用テンプレートを使用" }
      ],
      multiSelect: false
    }
  ]
});
```

---

## チェックリスト

ワークフロー完了前に確認:

- [ ] プロジェクト種別が特定されている
- [ ] メモの全ての情報がドキュメントに反映されている
- [ ] 口語表現が書き言葉に整理されている
- [ ] 重複・矛盾が解消されている
- [ ] 必要な補足調査が実施されている
- [ ] 全ての情報に出典が付記されている
- [ ] 確度の低い情報に「要確認」マークがついている
- [ ] 詳細版とサマリーの両方が生成されている
- [ ] 要確認事項がリスト化されている

---

## まとめ

このワークフローは、荒いヒアリングメモを体系的に整理し、信頼性の高いドキュメントに変換するプロセス。
各フェーズで適切な判断と補足を行い、クライアントとの認識を合わせるための基盤を構築する。
