# Dynamic Color（ダイナミックカラー）

Dynamic Colorは、Material Design 3の画期的な機能で、ユーザーの好みに応じてUIの色を自動的に調整します。

## 概念

Dynamic Colorは、ユーザーの壁紙や選択した色から、調和の取れたカラーパレットを自動生成します。これにより、各ユーザーに個人的な体験を提供します。

## 仕組み

### ソースカラー

Dynamic Colorは以下のソースから色を抽出します：

1. **壁紙**: ユーザーのデバイスの壁紙から主要な色を抽出
2. **ユーザー選択**: ユーザーが明示的に選んだ色
3. **アプリ指定**: アプリが提供するデフォルトカラー

### カラー生成プロセス

1. ソースカラーから「seed color」を決定
2. HCT（Hue, Chroma, Tone）色空間で調和の取れたパレットを生成
3. ライト・ダークモード用の適切なトーンを選択
4. アクセシビリティ（コントラスト比）を自動保証

## 利点

### ユーザーにとって

- **パーソナライゼーション**: 自分だけの色合いのUI
- **デバイス全体の統一感**: OSレベルで一貫したカラー体験
- **好みの反映**: 好きな色がアプリにも反映される

### デザイナーにとって

- **自動調和**: 調和の取れたカラーパレットが自動生成
- **アクセシビリティ保証**: WCAGに準拠したコントラストが自動的に確保
- **ブランドと個人のバランス**: ユーザーの好みとブランドの調和

### 開発者にとって

- **実装が簡単**: OSのDynamic Colorシステムを活用
- **テーマ管理が容易**: ユーザーごとに異なるテーマを自動管理
- **保守コスト削減**: カラーパレットの手動管理が不要

## いつ使うべきか

### 推奨される場合

- **Androidアプリ**: Android 12+で自動サポート
- **汎用アプリ**: 特定のブランドカラーに強くこだわらない
- **ユーザー中心**: パーソナライゼーションを重視
- **多様なユーザー**: 幅広い年齢層や好みのユーザー

### 慎重に検討すべき場合

- **強いブランドアイデンティティ**: ブランドカラーが絶対的に重要
- **法人向けアプリ**: 企業ブランディングが優先される
- **特定業界**: 医療、金融など、色に厳格な規定がある
- **レガシーシステム**: Dynamic Colorをサポートしない古いシステム

## 実装の考慮事項

### ブランドカラーとのバランス

Dynamic Colorを使用しても、ブランドの個性は維持できます：

1. **アクセントカラー**: ロゴやキーアクションにブランドカラーを固定
2. **Dynamic Colorは補完**: 背景やコンテナにDynamic Colorを使用
3. **ハイブリッドアプローチ**: 重要な部分はブランドカラー、その他はDynamic Color

### フォールバック

Dynamic Colorが利用できない環境のための対策：

1. **デフォルトテーマ**: ブランドカラーベースの固定テーマ
2. **段階的な拡張**: Dynamic Color対応環境では自動適用
3. **ユーザー選択**: Dynamic Colorをオン/オフできるオプション

## ユーザーコントロール

Dynamic Colorはユーザーに選択肢を提供すべきです：

### 推奨オプション

1. **Dynamic Color ON/OFF**: ユーザーが有効/無効を切り替え
2. **色の選択**: ユーザーが明示的に色を選ぶオプション
3. **ブランドカラーに戻す**: デフォルトテーマに戻す機能

## アクセシビリティ

Dynamic Colorでもアクセシビリティは自動保証されます：

- **コントラスト比**: WCAG AA以上を自動維持
- **色覚異常対応**: どの色でも適切なコントラストが確保される
- **ダークモード**: 自動的に適切なトーンを選択

## ベストプラクティス

### DO（推奨）

1. **デフォルトで有効**: Android 12+ではDynamic Colorをデフォルトで有効化
2. **オプトアウト可能**: ユーザーが無効にできる選択肢を提供
3. **テスト**: 様々な色でテストして、すべてのケースで適切に機能することを確認
4. **段階的導入**: まず一部の画面で試してから全体に展開

### DON'T（避けるべき）

1. **強制**: ユーザーがブランドカラーを選べないようにする
2. **ブランドの放棄**: すべてをDynamic Colorにする必要はない
3. **テスト不足**: 極端な色（非常に明るい、非常に暗い）でテストしない

## プラットフォーム対応

### Android
- **Android 12+**: ネイティブサポート
- **実装**: Material 3ライブラリが自動対応

### iOS
- **現状**: 公式サポートなし
- **代替**: カスタム実装またはユーザー選択機能

### Web
- **現状**: 標準APIなし
- **代替**: ユーザー設定として実装可能

## 参考リソース

- [Dynamic Color](https://m3.material.io/foundations/customization)
- [Material Theme Builder](https://m3.material.io/theme-builder)

---

**出典**: Material Design 3 公式ドキュメント (https://m3.material.io/)
**最終取得日**: 2026-01-19
