---
name: reviewing-with-claude
description: 現在のClaudeセッション内でクイックレビューを実施します。コンテキストを保持したまま即座にコード品質、セキュリティ、パフォーマンスを評価します。
allowed-tools: Read, Grep, Glob
---

# Claude クイックレビュー

現在のセッション内で即座にコードレビューを実施します。

## 使用場面

- 小規模な変更の確認
- コーディング中のリアルタイムチェック
- 外部AIレビュー前の事前確認
- コンテキストを保持したまま継続的にレビュー

## 他のレビュー手段との使い分け

### review-with-claude（本skill）

現在のセッション内でクイックレビュー。軽微な変更やリアルタイムチェック向け。

### 外部AIレビュー

- **review-with-codex**: OpenAI Codexによる詳細レビュー
- **review-with-copilot**: GitHub Copilotによるレビュー
- **review-with-gemini**: Google Geminiによるレビュー
- **review-with-coderabbit**: CodeRabbitによる構造化レビュー

重要な変更の多角的検証や、特定のAIの強みを活かしたい場合に使用。

### code-reviewer agent

Task toolで別セッション起動。大規模リファクタリングやアーキテクチャレベルの変更に使用。

## レビュー実行手順

### 1. 対象コードの読み込み

Read、Grep、Globツールで対象コードを取得

### 2. 優先度付きレビュー

以下のチェックリストに沿って評価：

#### 🔴 クリティカル（即座の対応が必要）

**セキュリティ**

- [ ] SQLインジェクション: ユーザー入力が直接クエリに埋め込まれていないか
- [ ] XSS脆弱性: 出力が適切にエスケープされているか
- [ ] CSRF対策: 状態変更操作に適切な保護があるか
- [ ] 認証・認可: アクセス制御が適切に実装されているか
- [ ] 機密情報: ハードコードされた認証情報・APIキーがないか
- [ ] 安全でない依存関係: 既知の脆弱性を持つパッケージがないか

**データ整合性**

- [ ] トランザクション: 複数DB操作が適切にトランザクション管理されているか
- [ ] 競合状態: 並行処理での競合が考慮されているか

#### 🟡 重要（優先的に対応すべき）

**パフォーマンス**

- [ ] アルゴリズム効率: O(n²)以上の計算量がないか
- [ ] N+1問題: ループ内でのDB/APIクエリがないか
- [ ] メモリ使用: 大量データの一括読み込みがないか
- [ ] 不要な再計算: キャッシュすべき処理がないか

**エラーハンドリング**

- [ ] 例外処理: 適切なエラーハンドリングがあるか
- [ ] エラーログ: 問題のトラッキングに必要な情報がログに含まれているか
- [ ] ユーザー通知: エラー時の適切なフィードバックがあるか

#### 🟢 改善推奨（余裕があれば対応）

**保守性**

- [ ] 関数の長さ: 50行以下に収まっているか
- [ ] 命名: 意図が明確な命名になっているか
- [ ] 重複: DRY原則に反するコードがないか
- [ ] 結合度: モジュール間の依存が適切か
- [ ] コメント: 複雑なロジックに説明があるか

**テスト**

- [ ] カバレッジ: 主要パスがテストされているか
- [ ] エッジケース: 境界値、null、空配列が考慮されているか

### 3. レビュー結果の出力

以下の形式でレビュー結果を出力します：

**フォーマット例:**

## Claudeレビュー結果

### 🔴 クリティカル（即座の対応が必要）

- **[ファイル名:行番号]** 問題の詳細
  - 問題のあるコード
  - **修正案:** 修正後のコード
  - **理由:** なぜこの修正が必要か

### 🟡 重要（優先的に対応すべき）

- ...

### 🟢 改善推奨（余裕があれば対応）

- ...

### 📊 総合評価

- **セキュリティ**: 🟢良好 / 🟡注意 / 🔴問題あり
- **パフォーマンス**: 🟢良好 / 🟡注意 / 🔴問題あり
- **保守性**: 🟢良好 / 🟡注意 / 🔴問題あり
- **テスト**: 🟢良好 / 🟡注意 / 🔴問題あり

### 💡 推奨アクション

1. [最優先で対応すべき項目]
2. [次に対応すべき項目]
3. [改善推奨項目]

### 🔄 次のステップ

重要な変更の場合、以下の外部AIレビューも検討：

- /review-with-codex - OpenAI Codexの視点
- /review-with-copilot - GitHub Copilotの視点
- /review-with-gemini - Google Geminiの視点

## 使用例

### 特定ファイルのレビュー

/review-with-claude で対象ファイルを指定してレビュー

### 未コミット変更のレビュー

git diffの結果を基に未コミット変更をレビュー

### 特定の観点に絞ったレビュー

セキュリティ観点のみ、パフォーマンス観点のみなど

## 注意事項

- 現在のセッションのコンテキストを利用するため、事前にコードを読み込んでいる場合は効率的
- 大規模な変更の場合は code-reviewer agent の使用を検討
- 重要な変更は複数のAIレビューを併用することを推奨
